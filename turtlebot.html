<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TurtleBot - Reece Doyle</title>
<link rel="stylesheet" type="text/css" href="mystyle.css">
</head>
<body>
	<h1>TurtleBot</h1>
    <canvas id="canvas" width="800" height="500"></canvas>
    <script type="text/javascript">
      var canvas;
      var ctx;
      var dx = 5;
      var dy = 5;
      var WIDTH = 800;
      var HEIGHT = 500;
      var tri = new triangle(WIDTH/2, HEIGHT/2, 20, 30);

      function circle(x,y,r) {
        ctx.beginPath();
        ctx.arc(x, y, r, 0, Math.PI*2, true);
        ctx.fill();
      }

      function rect(x,y,w,h) {
        ctx.beginPath();
        ctx.rect(x,y,w,h);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
      }

      function triangle(x,y,w,h){
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
        this.dx = 5;
        this.dy = 5;
        this.angle = 0;
        this.dangle = Math.PI/4;

        this.up = up;
        function up(){
          if (this.y - this.dy > 0){
            this.y -= this.dy;
          }
        }
        this.down = down;
        function down(){
          if (this.y + this.dy < HEIGHT){
            this.y += this.dy;
          }
        }
        this.left = left;
        function left(){
          this.angle -= this.dangle;
        }
        this.right = right;
        function right(){
          this.angle += this.dangle;
        }
      }


      function drawTriangle(){
        ctx.beginPath();
        ctx.moveTo(tri.x,tri.y);
        ctx.lineTo(tri.x-tri.w/2, tri.y+tri.h);
        ctx.lineTo(tri.x+tri.w/2, tri.y+tri.h);
        ctx.lineTo(tri.x,tri.y);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        ctx.rotate(tri.angle);
      }

      function clear() {
        ctx.clearRect(0, 0, WIDTH, HEIGHT);
      }

      function init() {
        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");
        return setInterval(draw, 1);
      }

      function doKeyDown(evt){
        switch (evt.keyCode) {

          case 32:  /* Space bar was pressed */
            clear();
          break;

        case 38:  /* Up arrow was pressed */
          tri.up();
          break;

        case 40:  /* Down arrow was pressed */
          tri.down();
          break;

        case 37:  /* Left arrow was pressed */
          if (x - dx > 0){
            x -= dx;
          }
          break;

        case 39:  /* Right arrow was pressed */
          if (x + dx < WIDTH){
            x += dx;
          }
          break;
        }
      }

      function draw() {
        
        ctx.fillStyle = "white";
        ctx.strokeStyle = "black";
        rect(0,0,WIDTH,HEIGHT);
        ctx.fillStyle = "black";
        drawTriangle();
      }

      init();
        window.addEventListener('keydown',doKeyDown,true);
    </script>


</body>



</html>